name: smoke-success

on:
  push:
    branches: [ "develop" ]
  workflow_dispatch:
    inputs:
      sleepSeconds:
        description: "How long to sleep in timed steps"
        required: false
        default: "6"

jobs:
  smoke:
    name: smoke
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Print context
        run: |
          echo "branch=${GITHUB_REF_NAME}"
          echo "sha=${GITHUB_SHA}"
          echo "run_id=${GITHUB_RUN_ID}"

      - name: Setup (noop)
        run: |
          echo "Runner OS: $RUNNER_OS"
          echo "Workspace: $GITHUB_WORKSPACE"

      - name: Timed step A
        run: |
          echo "Sleeping A..."
          sleep ${{ inputs.sleepSeconds || '6' }}

      - name: Timed step B
        run: |
          echo "Sleeping B..."
          sleep ${{ inputs.sleepSeconds || '6' }}

      - name: Finish
        run: echo "smoke-success done"
